{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\mvagustamotorsss\\\\src\\\\generalLayout\\\\typeMotor.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Spring } from \"react-spring/renderprops\";\nimport { get } from \"../backend/fetchApi\";\nimport ReactDOM from \"react-dom\";\n\nfunction closeMotorList() {\n  document.getElementsByClassName(\"motor-list\")[0].style.width = \"0vw\";\n  document.getElementsByClassName(\"motor-list\")[0].style.opacity = \"0\"; // $('.motor-list').css(\"opacity\", \"0\");\n\n  document.getElementsByClassName(\"motorList-container-left\")[0].style.width = \"0vw\";\n  document.getElementsByClassName(\"motorList-container-left\")[0].style.opacity = \"0\";\n  document.getElementById(\"body\").style.overflow = \"scroll\"; // $('.motorList-container-left').css(\"opacity\", \"0\");\n}\n\nfunction hoverBlurOthers(index) {\n  for (var i = 0; i < document.getElementsByClassName(\"motorItem\").length; i++) {\n    document.getElementsByClassName(\"motorItem\")[i].style.filter = \"brightness(65%) blur(2px)\";\n    document.getElementsByClassName(\"motorItem\")[i].style.transition = \"all 0.2s ease\";\n  }\n\n  document.getElementsByClassName(\"motorItem\")[index].style.filter = \"brightness(100%) blur(0px)\";\n}\n\nfunction removeBlurOthers() {\n  for (var i = 0; i < document.getElementsByClassName(\"motorItem\").length; i++) {\n    document.getElementsByClassName(\"motorItem\")[i].style.filter = \"brightness(100%) blur(0)\";\n  }\n}\n\nfunction MotorListOfAType({\n  motors,\n  selectedType\n}) {\n  _s();\n\n  useEffect(() => {\n    for (let key = 0; key < document.getElementsByClassName(\"motorItem\").length; key++) {\n      document.getElementsByClassName(\"motorItem\")[key].addEventListener(\"mouseover\", () => {\n        hoverBlurOthers(key);\n      }, true);\n      document.getElementsByClassName(\"motorItem\")[key].addEventListener(\"mouseout\", removeBlurOthers, true);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !motors[selectedType] ? null : // : motors[selectedType].map((item, index) => <div key={item} item={index} className=\"motorItem\" style={{backgroundImage: `url('./img/${item[1]}')`, backgroundSize: 'contain'}}>{item}</div>)}\n\n    /* : motors[selectedType].map((item) => <div key={item} className=\"motorItem\">{item[0]}</div>)} */\n    motors[selectedType].map((item, index) => /*#__PURE__*/_jsxDEV(Spring, {\n      from: {\n        opacity: 0,\n        marginTop: -28,\n        transition: \"0.1s ease-in-out\"\n      },\n      to: {\n        opacity: 1,\n        marginTop: 0,\n        transition: \"0.1s ease-in-out\"\n      },\n      children: props => /*#__PURE__*/_jsxDEV(\"a\", {\n        style: props,\n        href: item[5],\n        index: \"mt-\" + index,\n        className: \"motorItem\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"motorItem-image\",\n          style: {\n            backgroundImage: `url('./img/${item[1]}')`,\n            backgroundSize: \"contain\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"motorItem-infor\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"motorItem-infor-top\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: selectedType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: item[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"motorItem-infor-bottom\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"motorItem-infor-bottom-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"CYLINDERS\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [item[2], /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"motorItem-infor-bottom-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"CYLINDERS CAPACITY\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [item[3], /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"CC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"motorItem-infor-bottom-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"HRS-POWER\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [item[4], /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"HP\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 19\n        }, this)]\n      }, \"mtn-\" + item, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this))\n  }, void 0, false);\n}\n\n_s(MotorListOfAType, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = MotorListOfAType;\nexport default function TypeMotor() {\n  _s2();\n\n  const [types, setTypes] = useState(null);\n  const [selectedType, setSelectedType] = useState(null);\n  const [motors, setMotors] = useState({});\n\n  function CloseButton() {\n    //hàm này để thông báo rằng khi user click vào icon X thì state motor sẽ set mặc định luôn loại xe rush để nó hiện khi mở lại nav\n    const handleClick = () => {\n      get(\"/motor?type=Rush\").then(response => {\n        // setMotors({ [\"Rush\"]: response.data });\n        setMotors({\n          \"Rush\": response.data\n        });\n      });\n      setSelectedType(\"Rush\");\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"close-motorList-icon\",\n      onClick: () => {\n        closeMotorList();\n        handleClick();\n      },\n      style: {\n        zIndex: 100\n      },\n      children: \"x\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this);\n  } //useEffect này dùng để đọc từ data tất cả dữ liệu về type của xe, lưu trong state Types\n\n\n  useEffect(() => {\n    get(\"/types\").then(response => {\n      setTypes(response.data);\n    }); //hàm này dùng để responsive height của .motorType\n\n    const motorTypeLength = document.getElementsByClassName(\"motorType\").length;\n\n    for (var i = 0; i < motorTypeLength; ++i) {\n      document.getElementsByClassName(\"motorType\")[i].style.height = 1 / motorTypeLength * 100 + \"%\";\n    } //hàm này dùng để check types null hay ko, nếu !null thì render ra list xe đầu tiên\n\n\n    if (types != null) {\n      get(`/motor?type=${types[0]}`).then(response => {\n        setMotors(prev => ({\n          // ...prev,\n          [selectedType]: response.data\n        }));\n      });\n    }\n  }, [types]);\n  useEffect(() => {\n    // hàm if dưới dùng để check xem trong state( motors ) đã tồn tại obj motor thuộc loại đã chọn chưa, nếu chưa thì add còn ko thì stop.\n    if (selectedType && !motors[selectedType]) {\n      get(`/motor?type=${selectedType}`).then(response => {\n        setMotors(prev => ({\n          // ...prev,\n          [selectedType]: response.data\n        }));\n      });\n    }\n\n    console.log(motors);\n    ReactDOM.render( /*#__PURE__*/_jsxDEV(MotorListOfAType, {\n      motors: motors,\n      selectedType: selectedType\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), document.getElementById(\"motorItems\"));\n    ReactDOM.render( /*#__PURE__*/_jsxDEV(CloseButton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), document.getElementById(\"motorList-container-left-top\"));\n  }, [selectedType, motors]);\n\n  if (!types) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: types.map((type, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"motorType\",\n      onClick: () => setSelectedType(type),\n      children: type\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }, this))\n  }, void 0, false);\n}\n\n_s2(TypeMotor, \"dInWgj0GJlH894TmTkTZBOc4bpw=\");\n\n_c2 = TypeMotor;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MotorListOfAType\");\n$RefreshReg$(_c2, \"TypeMotor\");","map":{"version":3,"sources":["C:/Users/Admin/Documents/GitHub/mvagustamotorsss/src/generalLayout/typeMotor.js"],"names":["React","useState","useEffect","Spring","get","ReactDOM","closeMotorList","document","getElementsByClassName","style","width","opacity","getElementById","overflow","hoverBlurOthers","index","i","length","filter","transition","removeBlurOthers","MotorListOfAType","motors","selectedType","key","addEventListener","map","item","marginTop","props","backgroundImage","backgroundSize","TypeMotor","types","setTypes","setSelectedType","setMotors","CloseButton","handleClick","then","response","data","zIndex","motorTypeLength","height","prev","console","log","render","type"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Spring } from \"react-spring/renderprops\";\r\nimport { get } from \"../backend/fetchApi\";\r\nimport ReactDOM from \"react-dom\";\r\nfunction closeMotorList() {\r\n  document.getElementsByClassName(\"motor-list\")[0].style.width = \"0vw\";\r\n  document.getElementsByClassName(\"motor-list\")[0].style.opacity = \"0\";\r\n  // $('.motor-list').css(\"opacity\", \"0\");\r\n  document.getElementsByClassName(\"motorList-container-left\")[0].style.width =\r\n    \"0vw\";\r\n  document.getElementsByClassName(\"motorList-container-left\")[0].style.opacity =\r\n    \"0\";\r\n  document.getElementById(\"body\").style.overflow = \"scroll\";\r\n  // $('.motorList-container-left').css(\"opacity\", \"0\");\r\n}\r\nfunction hoverBlurOthers(index) {\r\n  for (\r\n    var i = 0;\r\n    i < document.getElementsByClassName(\"motorItem\").length;\r\n    i++\r\n  ) {\r\n    document.getElementsByClassName(\"motorItem\")[i].style.filter =\r\n      \"brightness(65%) blur(2px)\";\r\n    document.getElementsByClassName(\"motorItem\")[i].style.transition =\r\n      \"all 0.2s ease\";\r\n  }\r\n  document.getElementsByClassName(\"motorItem\")[index].style.filter =\r\n    \"brightness(100%) blur(0px)\";\r\n}\r\nfunction removeBlurOthers() {\r\n  for (\r\n    var i = 0;\r\n    i < document.getElementsByClassName(\"motorItem\").length;\r\n    i++\r\n  ) {\r\n    document.getElementsByClassName(\"motorItem\")[i].style.filter =\r\n      \"brightness(100%) blur(0)\";\r\n  }\r\n}\r\nfunction MotorListOfAType({ motors, selectedType }) {\r\n  useEffect(() => {\r\n    for (\r\n      let key = 0;\r\n      key < document.getElementsByClassName(\"motorItem\").length;\r\n      key++\r\n    ) {\r\n      document.getElementsByClassName(\"motorItem\")[key].addEventListener(\r\n        \"mouseover\",\r\n        () => {\r\n          hoverBlurOthers(key);\r\n        },\r\n        true\r\n      );\r\n      document\r\n        .getElementsByClassName(\"motorItem\")\r\n        [key].addEventListener(\"mouseout\", removeBlurOthers, true);\r\n    }\r\n  });\r\n  return (\r\n    <>\r\n      {!motors[selectedType]\r\n        ? null\r\n        : // : motors[selectedType].map((item, index) => <div key={item} item={index} className=\"motorItem\" style={{backgroundImage: `url('./img/${item[1]}')`, backgroundSize: 'contain'}}>{item}</div>)}\r\n          /* : motors[selectedType].map((item) => <div key={item} className=\"motorItem\">{item[0]}</div>)} */\r\n          motors[selectedType].map((item, index) => (\r\n            <Spring\r\n              from={{\r\n                opacity: 0,\r\n                marginTop: -28,\r\n                transition: \"0.1s ease-in-out\",\r\n              }}\r\n              to={{ opacity: 1, marginTop: 0, transition: \"0.1s ease-in-out\" }}\r\n            >\r\n              {(props) => (\r\n                <a\r\n                  style={props}\r\n                  href={item[5]}\r\n                  key={\"mtn-\" + item}\r\n                  index={\"mt-\" + index}\r\n                  className=\"motorItem\"\r\n                >\r\n                  <div\r\n                    className=\"motorItem-image\"\r\n                    style={{\r\n                      backgroundImage: `url('./img/${item[1]}')`,\r\n                      backgroundSize: \"contain\",\r\n                    }}\r\n                  ></div>\r\n                  <div className=\"motorItem-infor\">\r\n                    <div className=\"motorItem-infor-top\">\r\n                      <h3>{selectedType}</h3>\r\n                      <p>{item[0]}</p>\r\n                    </div>\r\n                    <div className=\"motorItem-infor-bottom\">\r\n                      <div className=\"motorItem-infor-bottom-left\">\r\n                        <h4>CYLINDERS</h4>\r\n                        <p>\r\n                          {item[2]}\r\n                          <span></span>\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"motorItem-infor-bottom-center\">\r\n                        <h4>CYLINDERS CAPACITY</h4>\r\n                        <p>\r\n                          {item[3]}\r\n                          <span>CC</span>\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"motorItem-infor-bottom-right\">\r\n                        <h4>HRS-POWER</h4>\r\n                        <p>\r\n                          {item[4]}\r\n                          <span>HP</span>\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </a>\r\n              )}\r\n            </Spring>\r\n          ))}\r\n    </>\r\n  );\r\n}\r\nexport default function TypeMotor() {\r\n  const [types, setTypes] = useState(null);\r\n  const [selectedType, setSelectedType] = useState(null);\r\n  const [motors, setMotors] = useState({});\r\n\r\n  function CloseButton() {\r\n    //hàm này để thông báo rằng khi user click vào icon X thì state motor sẽ set mặc định luôn loại xe rush để nó hiện khi mở lại nav\r\n    const handleClick = () => {\r\n      get(\"/motor?type=Rush\").then((response) => {\r\n        // setMotors({ [\"Rush\"]: response.data });\r\n        setMotors({ \"Rush\": response.data });\r\n      });\r\n      setSelectedType(\"Rush\");\r\n    };\r\n    return (\r\n      <div\r\n        className=\"close-motorList-icon\"\r\n        onClick={() => {\r\n          closeMotorList();\r\n          handleClick();\r\n        }}\r\n        style={{ zIndex: 100 }}\r\n      >\r\n        x\r\n      </div>\r\n    );\r\n  }\r\n  //useEffect này dùng để đọc từ data tất cả dữ liệu về type của xe, lưu trong state Types\r\n  useEffect(() => {\r\n    get(\"/types\").then((response) => {\r\n      setTypes(response.data);\r\n    });\r\n    //hàm này dùng để responsive height của .motorType\r\n    const motorTypeLength = document.getElementsByClassName(\"motorType\").length;\r\n    for (var i = 0; i < motorTypeLength; ++i) {\r\n      document.getElementsByClassName(\"motorType\")[i].style.height =\r\n        (1 / motorTypeLength) * 100 + \"%\";\r\n    }\r\n    //hàm này dùng để check types null hay ko, nếu !null thì render ra list xe đầu tiên\r\n    if (types != null) {\r\n      get(`/motor?type=${types[0]}`).then((response) => {\r\n        setMotors((prev) => ({\r\n          // ...prev,\r\n          [selectedType]: response.data,\r\n        }));\r\n      });\r\n    }\r\n  }, [types]);\r\n  useEffect(() => {\r\n    // hàm if dưới dùng để check xem trong state( motors ) đã tồn tại obj motor thuộc loại đã chọn chưa, nếu chưa thì add còn ko thì stop.\r\n    if (selectedType && !motors[selectedType]) {\r\n      get(`/motor?type=${selectedType}`).then((response) => {\r\n        setMotors((prev) => ({\r\n          // ...prev,\r\n          [selectedType]: response.data,\r\n        }));\r\n      });\r\n    }\r\n    console.log(motors);\r\n    ReactDOM.render(\r\n      <MotorListOfAType motors={motors} selectedType={selectedType} />,\r\n      document.getElementById(\"motorItems\")\r\n    );\r\n    ReactDOM.render(\r\n      <CloseButton />,\r\n      document.getElementById(\"motorList-container-left-top\")\r\n    );\r\n  }, [selectedType, motors]);\r\n\r\n  if (!types) {\r\n    return <p>Loading...</p>;\r\n  }\r\n  return (\r\n    <>\r\n      {types.map((type, index) => (\r\n        <div className=\"motorType\" onClick={() => setSelectedType(type)}>\r\n          {type}\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}